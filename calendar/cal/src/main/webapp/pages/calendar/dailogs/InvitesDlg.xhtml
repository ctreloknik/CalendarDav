<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

	<p:dialog id="invitesDlg" header="Приглашения на события"
		widgetVar="invitesDlg" modal="false" resizable="false" minWidth="450">

		<p:dataTable id="invitesTable" widgetVar="invitesTable"
			value="#{invitesBean.unverifiedEvents}" var="invitesList"
			style="width: 100%; max-width: 800px">

			<p:column headerText="Название" width="150">
				<h:outputText value="#{invitesList.userCalendarEventsDTO.name}" />
			</p:column>

			<p:column headerText="Время" width="120">
				<h:outputText
					value="С: #{invitesList.userCalendarEventsDTO.startDatetime}" />
				<br />
				<h:outputText
					value="в #{invitesList.userCalendarEventsDTO.startTime}" />
				<br />
				<h:outputText
					value="По: #{invitesList.userCalendarEventsDTO.endDatetime}" />
				<br />
				<h:outputText value="в #{invitesList.userCalendarEventsDTO.endTime}" />
			</p:column>

			<p:column headerText="Описание">
				<h:outputText
					value="#{invitesList.userCalendarEventsDTO.description}" />
			</p:column>

			<p:column headerText="Действие" width="120">
				<p:commandButton value="Принять"
					actionListener="#{invitesBean.acceptInvite(invitesList.eventMemberId)}"
					update=":calendarForm:invitesTable">
				</p:commandButton>

				<p:commandButton value="Отклонить"
					actionListener="#{invitesBean.deleteInvite(invitesList.eventMemberId)}"
					update=":calendarForm:invitesTable">
				</p:commandButton>
			</p:column>

		</p:dataTable>
	</p:dialog>

</ui:composition>
