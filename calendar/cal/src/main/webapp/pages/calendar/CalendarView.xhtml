<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

	<h:form id="calendarForm">
		<h:panelGrid columns="1" cellpadding="5">
			<p:commandButton value="Создать событие" type="button"
				onclick="PF('eventEditDlg').show();" />
		</h:panelGrid>

		<p:schedule id="calendar" value="#{calendarHome.eventModel}"
			draggable="false" clientTimeZone="local" timeFormat="HH:MM"
			widgetVar="calendar" rightHeaderTemplate="Month"
			style="margin-right:20px; margin-left:20px; height:600px; width:600px">
			<p:ajax event="dateSelect" listener="#{eventHome.onDateSelect}"
				update="eventsListDetails" oncomplete="PF('eventListDialog').show();" />
			
			<!-- Отключен, так как передается нулл, и дату вытащить не возможно -->
			<!--
			<p:ajax event="eventSelect" listener="#{eventHome.onDateSelect}"
				update="eventsListDetails" oncomplete="PF('eventListDialog').show();" />
			-->
		</p:schedule>

		<ui:include src="/pages/calendar/EventEditDlg.xhtml" />
		<ui:include src="/pages/calendar/EventsListDlg.xhtml" />
	</h:form>
</ui:composition>
