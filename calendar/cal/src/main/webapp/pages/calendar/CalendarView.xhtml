<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

	<h:form id="calendarForm">
		<h:panelGrid columns="1" cellpadding="5">
			<p:commandButton value="Создать событие"
				action="#{eventHome.preCreateEvent()}"
				update=":calendarForm:eventEditDlg"
				oncomplete="PF('eventEditDlg').show();" />
		</h:panelGrid>

		<h:panelGrid id="calendarTableGrid" columns="2" cellpadding="5">
			<p:calendar id="calendar" widgetVar="calendar"
				value="#{calendarHome.calendarDate}" mode="inline" navigator="true"
				pages="1">
				<p:ajax event="dateSelect" listener="#{eventHome.onDateSelect}"
					update="eventsListDetails" />
			</p:calendar>

			<ui:include src="/pages/calendar/EventsList.xhtml" />
		</h:panelGrid>
		<ui:include src="/pages/calendar/dailogs/EventEditDlg.xhtml" />
	</h:form>
</ui:composition>
